<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no" />
<meta charset="UTF-8" />
<script type="text/javascript" src="speedtest.js"></script>
<script type="text/javascript" src="script.js"></script>
<style type="text/css">
html,body{border:none;padding:0;margin:0;background:#FFFFFF;color:#202020;}
body{text-align:center;font-family:"Roboto",sans-serif;}
h1{color:#404040;}
#loading{background-color:#FFFFFF;color:#404040;text-align:center;}
#startStopBtn{display:inline-block;margin:0 auto;color:#6060AA;background-color:rgba(0,0,0,0);
  border:0.15em solid #6060FF;border-radius:0.3em;transition:all 0.3s;
  box-sizing:border-box;width:8em;height:3em;line-height:2.7em;cursor:pointer;}
#startStopBtn.running{background-color:#FF3030;border-color:#FF6060;color:#FFFFFF;}
#startStopBtn:before{content:"Start";}
#startStopBtn.running:before{content:"Abort";}
#test{margin-top:2em;margin-bottom:4em;}
div.testArea{display:inline-block;width:16em;height:12.5em;position:relative;box-sizing:border-box;}
div.testArea2{display:inline-block;width:14em;height:7em;position:relative;box-sizing:border-box;text-align:center;}
div.testArea div.testName{position:absolute;top:0.1em;left:0;width:100%;font-size:1.4em;z-index:9;}
div.testArea2 div.testName{display:block;text-align:center;font-size:1.4em;}
div.testArea div.meterText{position:absolute;bottom:1.55em;left:0;width:100%;font-size:2.5em;z-index:9;}
div.testArea2 div.meterText{display:inline-block;font-size:2.5em;}
div.meterText:empty:before{content:"0.00";}
div.testArea div.unit{position:absolute;bottom:2em;left:0;width:100%;z-index:9;}
div.testArea2 div.unit{display:inline-block;}
div.testArea canvas{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;}
div.testGroup{display:block;margin:0 auto;}
#summary{margin-top:2em;padding:1em;border-top:1px solid #ccc;}
@media all and (max-width:40em){body{font-size:0.8em;}}
div.visible{animation:fadeIn 0.4s;display:block;}
div.hidden{animation:fadeOut 0.4s;display:none;}
@keyframes fadeIn{0%{opacity:0;}100%{opacity:1;}}
@keyframes fadeOut{0%{display:block;opacity:1;}100%{display:block;opacity:0;}}
@media all and (prefers-color-scheme: dark){
  html,body,#loading{background:#202020;color:#F4F4F4;color-scheme:dark;}
  h1{color:#E0E0E0;}
}
</style>
<title>SpeedTest</title>
</head>
<body onload="initServers()">
<h1>SpeedTest</h1>
<div id="loading" class="visible">
  <p id="message">Preparing test...</p>
</div>
<div id="testWrapper" class="hidden">
  <div id="startStopBtn" onclick="startStop()"></div><br/>
  <div id="test">
    <div class="testGroup">
      <div class="testArea2">
        <div class="testName">Ping</div>
        <div id="pingText" class="meterText" style="color:#AA6060"></div>
        <div class="unit">ms</div>
      </div>
    </div>
    <div class="testGroup">
      <div class="testArea">
        <div class="testName">Download</div>
        <canvas id="dlMeter" class="meter"></canvas>
        <div id="dlText" class="meterText"></div>
        <div class="unit">Mbps</div>
      </div>
      <div class="testArea">
        <div class="testName">Upload</div>
        <canvas id="ulMeter" class="meter"></canvas>
        <div id="ulText" class="meterText"></div>
        <div class="unit">Mbps</div>
      </div>
    </div>
  </div>
  <div id="summary" class="hidden">
    <h2>Test Summary</h2>
    <p id="sumPing"></p>
    <p id="sumDownload"></p>
    <p id="sumUpload"></p>
    <p id="sumData"></p>
  </div>
</div>
</body>
</html>